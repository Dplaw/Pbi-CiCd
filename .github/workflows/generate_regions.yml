name: Generate regional Power BI reports

on:
  push:
    branches: [ main ]
    paths:
      # skrypt generujący + logika
      - 'scripts/generate_regions.py'
      - 'scripts/config_reader.py'
      - 'scripts/models_manager.py'
      - 'scripts/report_creator.py'
      # jeśli metadata_editor.py istnieje w scripts:
      # - 'scripts/metadata_editor.py'

      # konfiguracja raportów
      - 'config/regions/**'
      - 'config/template_report_config/**'

      # template PBIP
      - 'template/**'

      # sam workflow
      - '.github/workflows/generate_regions.yml'

  # jeśli chcesz też przy PR:
  pull_request:
    branches: [ main ]
    paths:
      - 'scripts/generate_regions.py'
      - 'scripts/config_reader.py'
      - 'scripts/models_manager.py'
      - 'scripts/report_creator.py'
      # - 'scripts/metadata_editor.py'
      - 'config/regions/**'
      - 'config/template_report_config/**'
      - 'template/**'
      - '.github/workflows/generate_regions.yml'
